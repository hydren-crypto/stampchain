<!DOCTYPE html>
<html>
<head>
	
	<meta property="og:title" content="STAMPchain.io" />
<meta property="og:description" content="Unprunable Bitcoin Art, Because Sats Don’t Exist." />
<meta property="og:image" content="https://i.imgur.com/ZvtY5Te.jpg" />
<meta name="title" content="STAMPchain.io"/>
<meta name="description" content="Unprunable Bitcoin Art, Because Sats Don’t Exist." />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
	
<meta charset="UTF-8">
	
	
	
	
	
    <title>STAMPchain.io - Asset Details</title>
    <style>

     body {
  background-color:black;color:white;
}

h1 {color:#111111;font-family:helvetica,arial;text-shadow: -1px -1px 0 yellow, 1px -1px 0 yellow, -1px 1px 0 yellow, 1px 1px 0 yellow;text-align:center;margin-bottom:0px;}

h2 {color:white;text-align:center;font-family:serif;text-transform: none;font-size:18px;}

h3 {font-family:monospace;padding-top:10px;font-size:14px;color:#666666;}

pre {font-family:monospace;color:#666666;}

#asset-container {width:100%;}

#asset-container img {border-radius: 12px;
      overflow:hidden;
			image-rendering: pixelated;
			image-rendering: -moz-crisp-edges;
			image-rendering: crisp-edges;
      background-image: url("https://i.imgur.com/8hNkWAl.png");
      background-size: 3px;}

#asset-container pre {font-size:10px;}

pre a {color:white;}

h1 a {text-decoration:none;color:black;text-transform: uppercase;}
        
    </style>
</head>
<body>
  <h1><a href="https://stampchain.io/">STAMPchain.io</a></h1>
    
    
      <h2><em>Unprunable Bitcoin Art, Because Sats Don’t Exist.</em></h2>
    
        <h3 style="text-align:center;">Asset Details</h3>
    
    
    <div id="asset-container" style="text-align:center;"></div>
    <script>
        async function fetchAssetDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const stampNumber = urlParams.get('stampNumber');
            
            try {
                const assetResponse = await fetch('stamp.json');
                const allAssetData = await assetResponse.json();
                const assetData = allAssetData.find(asset => asset.stamp === parseInt(stampNumber));

                if (assetData) {
                    displayAssetDetails(assetData);

                    const proxyUrl = 'https://your-proxy-server.example.com/';
                    const counterpartyUrl = 'http://api.counterparty.io:4000/api/';

                    const requestOptions = {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json; charset=UTF-8',
                            'Accept': 'application/json, text/javascript',
                            'Authorization': 'Basic ' + btoa('rpc:rpc'),
                        },
                        body: JSON.stringify({
                            jsonrpc: '2.0',
                            id: 0,
                            method: 'get_asset_info',
                            params: {
                                assets: [assetData.asset],
                            },
                        }),
                    };

                    const counterpartyResponse = await fetch(proxyUrl + counterpartyUrl, requestOptions);
                    const counterpartyData = await counterpartyResponse.json();
                    
                    if (counterpartyData.result && counterpartyData.result.length > 0) {
                        displayCounterpartyAssetDetails(counterpartyData.result[0]);
                    } else {
                        console.error('Asset not found on Counterparty');
                    }
                } else {
                    console.error('Asset not found');
                }
            } catch (error) {
                console.error(error);
            }
        }


        function displayAssetDetails(data) {
            const assetContainer = document.getElementById('asset-container');

            // Display asset image
            const img = document.createElement('img');
            img.src = data.stamp_url;
            img.width = 420;
            img.height = 420;
            img.style.objectFit = 'contain';
            img.style.imageRendering = 'pixelated';
            img.style.imageRendering = '-moz-crisp-edges';
            img.style.imageRendering = 'crisp-edges';
            img.style.backgroundColor = '#000000';
            assetContainer.appendChild(img);

            // Display asset details
            const assetDetails = document.createElement('div');
            assetDetails.style.textAlign = 'center';

            const stampDetail = document.createElement('p');
            stampDetail.innerText = `Stamp: ${data.stamp}`;
            assetDetails.appendChild(stampDetail);

            const txIndexDetail = document.createElement('p');
            txIndexDetail.innerText = `Tx Index: ${data.tx_index}`;
            assetDetails.appendChild(txIndexDetail);

            const assetDetail = document.createElement('p');
            assetDetail.innerText = `Asset: ${data.asset}`;
            assetDetails.appendChild(assetDetail);

            const txHashDetail = document.createElement('p');
            txHashDetail.innerText = `Tx Hash: ${data.tx_hash}`;
            assetDetails.appendChild(txHashDetail);

            assetContainer.appendChild(assetDetails);
        }


        function displayDispenserDetails(dispenserData) {
            if (dispenserData.length > 0) {
                const assetContainer = document.getElementById('asset-container');
                const dispenserDetails = document.createElement('pre');
                dispenserDetails.innerText = 'Dispensers:\n';
                dispenserData.forEach((dispenser, index) => {
                    dispenserDetails.innerText += `\nDispenser ${index + 1}:\nAsset: ${dispenser.asset}\nAmount: ${dispenser.amount}\nDispenser Address: ${dispenser.dispenser}\n`;
                });
                assetContainer.appendChild(dispenserDetails);
            }
        }

        fetchAssetDetails();
    </script>
	
	
<!-- fake fields below -->
	
	
      <pre>Asset: A11721653948588048000</pre>
      <pre>Owner/Issuer: 1FhZhhNBq4yNLENjrgvWSQE6eS8g4bbct1</pre>
      <pre>Total Supply: 1</pre>
      <pre>Divisible: False</pre>
      <pre>Locked: True</pre>
      <pre>Block # 781,401</pre>
      <pre><a href="https://stampchain.io/stamps/612c354547ac7b2293ed505a25fcc4ddbcd82c7fbc16a71636de3b628ed03014.png">Link to media</a></pre>
      <pre><a href="https://jpja.github.io/Electrum-Counterparty/decode_tx.html?tx=47054da12382223bfa928e9c3e0c8c99b42fe3e88985fb6043d8d84f17b893c9">Link to txn data</a></pre>
      <pre><a href="https://xchain.io/asset/A11721653948588048000">Link to xchain explorer</a></pre>
	
	
	
	
    
    
    <p style="color:white;text-align:center;text-transform:none;font-family:monospace;margin-top:50px;">&copy 2023 STAMPS Protocol</p>
    
    
    
    
</body>
</html>
